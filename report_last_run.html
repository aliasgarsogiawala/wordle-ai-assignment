
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Wordle RL — Last Run</title>
    <style>
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; padding: 24px; color: #222; }
        h1 { margin-top: 0; }
        .row { display: flex; gap: 8px; margin: 8px 0; }
        .tile { width: 44px; height: 44px; display: grid; place-items: center; font-weight: 700; color: #fff; border-radius: 6px; }
        .G { background: #2e7d32; }
        .Y { background: #f9a825; }
        .X { background: #9e9e9e; }
        .meta { color: #555; font-size: 14px; }
        .controls { margin: 16px 0; display: flex; gap: 8px; align-items: center; }
        button { padding: 8px 12px; border: 1px solid #ccc; background: #fafafa; border-radius: 6px; cursor: pointer; }
        button:hover { background: #f0f0f0; }
        .hidden-secret { filter: blur(6px); }
    </style>
    <script>const data = {"timestamp": "2025-08-26T13:51:45.371316Z", "secret": "rozes", "steps": [{"turn": 1, "guess": "slate", "feedback": "YXXXY", "candidates_after": 737, "reward": -1, "q_value": -0.012843044799147938}, {"turn": 2, "guess": "ergos", "feedback": "YYXYG", "candidates_after": 31, "reward": -1, "q_value": 0.701}, {"turn": 3, "guess": "roues", "feedback": "GGXGG", "candidates_after": 10, "reward": -1, "q_value": -0.1}, {"turn": 4, "guess": "robes", "feedback": "GGXGG", "candidates_after": 9, "reward": -1, "q_value": -0.1}, {"turn": 5, "guess": "ropes", "feedback": "GGXGG", "candidates_after": 8, "reward": -1, "q_value": -0.1}], "won": false};</script>
    <script>
        let idx = 0; let timer = null; let delay = 2000;
        function render() {
            const c = document.getElementById('content');
            c.innerHTML = '';
            const h = document.createElement('div');
            h.className = 'meta';
            h.innerHTML = `Won: <b>${data.won}</b> &nbsp;|&nbsp; Steps: <b>${data.steps.length}</b> &nbsp;|&nbsp; Secret: <span id='secret' class='hidden-secret'>${data.secret.toUpperCase()}</span>`;
            c.appendChild(h);
            data.steps.slice(0, idx).forEach(step => {
                const row = document.createElement('div'); row.className = 'row';
                const meta = document.createElement('div'); meta.className = 'meta';
            meta.textContent = `Guess ${step.turn} — candidates left: ${step.candidates_after} — reward: ${step.reward} — Q(${step.guess})=${step.q_value.toFixed(3)}`;
                row.appendChild(meta);
                const row2 = document.createElement('div'); row2.className = 'row';
                for (let i = 0; i < step.guess.length; i++) {
                    const d = document.createElement('div');
                    d.className = 'tile ' + step.feedback[i];
                    d.textContent = step.guess[i].toUpperCase();
                    row2.appendChild(d);
                }
                c.appendChild(row);
                c.appendChild(row2);
            });
        }
        function play() { if (timer) return; timer = setInterval(() => { if (idx < data.steps.length) { idx++; render(); } else { stop(); reveal(); } }, delay); }
        function pause() { if (!timer) return; clearInterval(timer); timer = null; }
        function reset() { pause(); idx = 0; render(); hide(); }
        function stepOnce() { if (idx < data.steps.length) { idx++; render(); } else { reveal(); } }
        function faster() { delay = Math.max(300, delay - 300); if (timer) { pause(); play(); } document.getElementById('spd').textContent = (delay/1000).toFixed(1)+'s'; }
        function slower() { delay = Math.min(5000, delay + 300); if (timer) { pause(); play(); } document.getElementById('spd').textContent = (delay/1000).toFixed(1)+'s'; }
        function reveal() { document.getElementById('secret').classList.remove('hidden-secret'); }
        function hide() { document.getElementById('secret').classList.add('hidden-secret'); }
        window.onload = () => { render(); }
    </script>
    </head>
    <body>
        <h1>Wordle RL — Last Run</h1>
        <div class="controls">
            <button onclick="play()">Play</button>
            <button onclick="pause()">Pause</button>
            <button onclick="stepOnce()">Step</button>
            <button onclick="reset()">Reset</button>
            <button onclick="slower()">-</button>
            <span>Speed: <span id="spd">2.0s</span></span>
            <button onclick="faster()">+</button>
            <button onclick="reveal()">Reveal Secret</button>
        </div>
        <div id="content"></div>
    </body>
</html>
